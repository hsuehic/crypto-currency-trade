# 动态表单字段可视化演示

## 🎨 Custom Strategy 表单预览

当选择 **Custom Strategy** 时，表单会自动渲染所有新字段类型的示例。

---

## 📱 表单布局预览

```
┌─────────────────────────────────────────────────────────────────────────┐
│  🛠️ Custom Strategy Parameters                                         │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                          │
│  ℹ️ Strategy Overview                                                   │
│  ┌────────────────────────────────────────────────────────────────┐    │
│  │ Highly customizable strategy with support for all parameter   │    │
│  │ types. Demonstrates date pickers, color selectors, range      │    │
│  │ sliders, enums, and more.                                      │    │
│  └────────────────────────────────────────────────────────────────┘    │
│                                                                          │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                                          │
│  Configuration Parameters                                               │
│                                                                          │
│  ┌─────────────────────────────┬────────────────────────────────┐      │
│  │                             │                                │      │
│  │  1️⃣ NUMBER FIELD             │  2️⃣ RANGE FIELD (%)            │      │
│  │                             │                                │      │
│  │  Lookback Period *          │  Signal Strength       70%     │      │
│  │  ┌───────────────────┐      │  ├────────●──────────┤        │      │
│  │  │        20         │      │  50                       95   │      │
│  │  └───────────────────┘      │  Minimum signal strength...    │      │
│  │  Historical data lookback   │  (range: 50 - 95 %)            │      │
│  │  period (range: 5 - 200)    │                                │      │
│  │                             │                                │      │
│  ├─────────────────────────────┼────────────────────────────────┤      │
│  │                             │                                │      │
│  │  3️⃣ RANGE FIELD (%)          │  4️⃣ ENUM FIELD                │      │
│  │                             │                                │      │
│  │  Risk Level            50%  │  Trading Mode *                │      │
│  │  ├──────────●─────────┤     │  ┌──────────────────────┐     │      │
│  │  0                      100 │  │  Balanced         ▼  │     │      │
│  │  Risk tolerance level...    │  └──────────────────────┘     │      │
│  │  (range: 0 - 100 %)         │  Trading mode strategy         │      │
│  │                             │                                │      │
│  ├─────────────────────────────┼────────────────────────────────┤      │
│  │                             │                                │      │
│  │  5️⃣ DATE FIELD               │  6️⃣ COLOR FIELD                │      │
│  │                             │                                │      │
│  │  Start Date                 │  Buy Color                     │      │
│  │  ┌──────────────────┐       │  ┌──────┬──────────────┐      │      │
│  │  │  2024-01-01  📅  │       │  │ 🎨  │  #10b981     │      │      │
│  │  └──────────────────┘       │  └──────┴──────────────┘      │      │
│  │  Strategy activation start  │  Buy signal indicator color    │      │
│  │                             │                                │      │
│  ├─────────────────────────────┼────────────────────────────────┤      │
│  │                             │                                │      │
│  │  7️⃣ COLOR FIELD              │  8️⃣ BOOLEAN FIELD              │      │
│  │                             │                                │      │
│  │  Sell Color                 │  Use Stop Loss         [ ON ]  │      │
│  │  ┌──────┬──────────────┐    │  Enable automatic stop loss    │      │
│  │  │ 🎨  │  #ef4444     │    │  protection                    │      │
│  │  └──────┴──────────────┘    │                                │      │
│  │  Sell signal indicator...   │                                │      │
│  │                             │                                │      │
│  ├─────────────────────────────┴────────────────────────────────┤      │
│  │                                                              │      │
│  │  9️⃣ OBJECT FIELD (JSON Editor)                              │      │
│  │                                                              │      │
│  │  Custom Logic                                                │      │
│  │  ┌──────────────────────────────────────────────────────┐   │      │
│  │  │ {                                                    │   │      │
│  │  │   "entryRules": [],                                  │   │      │
│  │  │   "exitRules": []                                    │   │      │
│  │  │ }                                                    │   │      │
│  │  └──────────────────────────────────────────────────────┘   │      │
│  │  Custom strategy logic configuration (JSON format)          │      │
│  │                                                              │      │
│  └──────────────────────────────────────────────────────────────┘      │
│                                                                          │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                                          │
│  Market Data Subscription                                               │
│                                                                          │
│  ┌─────────────────────────────┬────────────────────────────────┐      │
│  │  Ticker Data         [ ON ] │  Kline Data           [ ON ]   │      │
│  └─────────────────────────────┴────────────────────────────────┘      │
│                                                                          │
│  Data Method                                                            │
│  ┌───────────────────────────────────────────────────────────────┐     │
│  │  REST Polling                                              ▼  │     │
│  └───────────────────────────────────────────────────────────────┘     │
│  REST is more stable, WebSocket provides lower latency                 │
│                                                                          │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                                          │
│  ⚠️ Risk Factors                                                        │
│  ┌────────────────────────────────────────────────────────────────┐    │
│  │  • Risk profile depends on implementation                      │    │
│  │  • Requires thorough testing before live trading               │    │
│  │  • Custom parameters need careful validation                   │    │
│  └────────────────────────────────────────────────────────────────┘    │
│                                                                          │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## 🎯 字段类型详细展示

### 1️⃣ Number Field - 数字输入框

```
Lookback Period *
┌───────────────────────────────┐
│            20                 │  ← 可手动输入数字
└───────────────────────────────┘
Historical data lookback period (candles)
(range: 5 - 200)

特点:
✅ 支持键盘输入
✅ 自动验证 min/max
✅ 显示取值范围
✅ 必填字段标记 *
```

---

### 2️⃣ Range Field - 范围滑块（带百分比）

```
Signal Strength                70%
├─────────────●───────────────────┤
50                              95

Minimum signal strength threshold
(range: 50 - 95 %)

特点:
✅ 可视化滑块
✅ 实时值显示
✅ 显示单位（%）
✅ 步长控制（step: 5）
✅ 拖动流畅
```

---

### 3️⃣ Range Field - 范围滑块（风险等级）

```
Risk Level                     50%
├─────────────●───────────────────┤
0                              100

Risk tolerance level (higher = more aggressive)
(range: 0 - 100 %)

特点:
✅ 0-100 完整范围
✅ 步长为 10
✅ 清晰的描述
✅ 百分比单位
```

---

### 4️⃣ Enum Field - 枚举下拉框

```
Trading Mode *
┌─────────────────────────────────┐
│  Balanced                    ▼  │  ← 点击展开选项
└─────────────────────────────────┘

下拉选项：
• Conservative
• Balanced
• Aggressive

Trading mode strategy

特点:
✅ 限制用户选择范围
✅ 防止无效输入
✅ 选项自动首字母大写
✅ 清晰的占位符
```

---

### 5️⃣ Date Field - 日期选择器

```
Start Date
┌────────────────────────────┐
│  2024-01-01            📅  │  ← 点击打开日历
└────────────────────────────┘

Strategy activation start date

特点:
✅ 原生日期选择器
✅ 日历图标提示
✅ 格式自动验证
✅ 跨浏览器支持
```

---

### 6️⃣ Color Field - 颜色选择器（买入信号）

```
Buy Color
┌────────┬────────────────────┐
│   🎨   │     #10b981        │
└────────┴────────────────────┘
   ↑              ↑
颜色选择器    十六进制输入

Buy signal indicator color

特点:
✅ 可视化颜色选择器
✅ 十六进制文本输入
✅ 双向同步
✅ 格式验证（#RRGGBB）
```

---

### 7️⃣ Color Field - 颜色选择器（卖出信号）

```
Sell Color
┌────────┬────────────────────┐
│   🎨   │     #ef4444        │
└────────┴────────────────────┘

Sell signal indicator color

特点:
✅ 绿色（买入）vs 红色（卖出）
✅ 直观的颜色区分
✅ 实时预览
```

---

### 8️⃣ Boolean Field - 开关按钮

```
Use Stop Loss                [ ON ]
                              ↑
                          Toggle 开关

Enable automatic stop loss protection

特点:
✅ 一键切换
✅ 状态清晰（ON/OFF）
✅ 无需文本输入
✅ 移动端友好
```

---

### 9️⃣ Object Field - JSON 编辑器

```
Custom Logic
┌─────────────────────────────────────┐
│ {                                   │
│   "entryRules": [],                 │  ← 可编辑 JSON
│   "exitRules": []                   │
│ }                                   │
└─────────────────────────────────────┘

Custom strategy logic configuration (JSON format)

特点:
✅ 语法高亮（等宽字体）
✅ JSON 格式验证
✅ 自动缩进
✅ 支持复杂对象
```

---

## 🎨 主题支持

所有字段类型支持明暗主题：

### Light Mode (明亮模式)
```
┌────────────────────────────┐
│  白色背景                  │
│  深色文字                  │
│  蓝色强调色                │
└────────────────────────────┘
```

### Dark Mode (暗黑模式)
```
┌────────────────────────────┐
│  深色背景                  │
│  浅色文字                  │
│  蓝色强调色                │
└────────────────────────────┘
```

---

## 📐 响应式布局

### Desktop (桌面端)
```
┌─────────────────┬─────────────────┐
│   Field 1       │   Field 2       │  ← 2列布局
├─────────────────┼─────────────────┤
│   Field 3       │   Field 4       │
└─────────────────┴─────────────────┘
```

### Mobile (移动端)
```
┌───────────────────────────────────┐
│   Field 1                         │  ← 1列布局
├───────────────────────────────────┤
│   Field 2                         │
├───────────────────────────────────┤
│   Field 3                         │
├───────────────────────────────────┤
│   Field 4                         │
└───────────────────────────────────┘
```

---

## 🚀 交互演示

### 1. Range Slider 交互

```
初始状态:
Risk Level                     50%
├─────────────●───────────────────┤

拖动中:
Risk Level                     75%
├───────────────────●─────────────┤
                    ↑
                 拖动手柄

最终值:
Risk Level                     75%
├───────────────────●─────────────┤
```

---

### 2. Enum Dropdown 交互

```
初始状态:
┌─────────────────────────────────┐
│  Balanced                    ▼  │
└─────────────────────────────────┘

展开状态:
┌─────────────────────────────────┐
│  Balanced                    ▲  │
├─────────────────────────────────┤
│  Conservative                   │  ← 鼠标悬停高亮
│  Balanced              ✓        │  ← 当前选中
│  Aggressive                     │
└─────────────────────────────────┘

选择后:
┌─────────────────────────────────┐
│  Aggressive                  ▼  │  ← 已更新
└─────────────────────────────────┘
```

---

### 3. Color Picker 交互

```
初始状态:
┌────────┬────────────────────┐
│   🎨   │     #10b981        │
└────────┴────────────────────┘

点击颜色选择器:
┌─────────────────────────────┐
│  🎨 颜色选择器面板           │
│  ┌───────────────────────┐  │
│  │  [色盘]               │  │
│  │         ●             │  │
│  │  [色条]               │  │
│  └───────────────────────┘  │
│  #10b981         [ 确定 ]  │
└─────────────────────────────┘

选择后更新:
┌────────┬────────────────────┐
│   🎨   │     #3b82f6        │  ← 新颜色
└────────┴────────────────────┘
```

---

## 🎯 验证反馈

### 成功状态
```
Lookback Period *
┌───────────────────────────────┐
│            20         ✓       │  ← 绿色对勾
└───────────────────────────────┘
```

### 错误状态
```
Lookback Period *
┌───────────────────────────────┐
│            300        ✗       │  ← 红色叉号
└───────────────────────────────┘
❌ Value must be between 5 and 200
```

### 必填提示
```
Trading Mode *
┌─────────────────────────────────┐
│  (empty)                     ▼  │
└─────────────────────────────────┘
⚠️ This field is required
```

---

## 🎉 完整体验流程

### Step 1: 选择策略类型
```
Strategy Type
┌─────────────────────────────────┐
│  Custom Strategy             ▼  │  ← 选择 Custom
└─────────────────────────────────┘
```

### Step 2: 表单自动加载
```
⏳ Loading parameters...
```

### Step 3: 填写参数
```
✅ 所有字段已加载
📝 开始配置参数...
```

### Step 4: 实时验证
```
✓ Lookback Period: Valid
✓ Signal Strength: Valid
✓ Trading Mode: Valid
...
```

### Step 5: 提交保存
```
[  Save Strategy  ]  ← 所有验证通过
```

---

## 📊 字段类型使用统计

**Custom Strategy 字段统计：**

| 字段类型 | 数量 | 占比 |
|---------|------|------|
| Number  | 1    | 11%  |
| Range   | 2    | 22%  |
| Enum    | 1    | 11%  |
| Date    | 1    | 11%  |
| Color   | 2    | 22%  |
| Boolean | 1    | 11%  |
| Object  | 1    | 11%  |
| **总计** | **9** | **100%** |

---

## 💡 设计亮点

### 1. **视觉层次分明**
- 分组标题加粗
- 字段描述灰色小字
- 必填字段红色星号

### 2. **交互反馈及时**
- 滑块拖动实时显示值
- 颜色选择同步更新
- 下拉选择立即生效

### 3. **信息密度合理**
- 2列网格布局
- 充足的间距
- 清晰的分隔线

### 4. **无障碍支持**
- 语义化 HTML
- 键盘导航
- 屏幕阅读器友好

---

## 🚀 实际效果

访问 `/strategy` 页面，选择 **Custom Strategy**，即可看到完整的动态表单！

**所有字段自动渲染，无需手动编写 UI 代码！** ✨

---

Author: xiaoweihsueh@gmail.com  
Date: October 11, 2025

